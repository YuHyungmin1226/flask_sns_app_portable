# Flask SNS 포터블 앱 🚀

USB에 복사하여 어디서든 실행할 수 있는 개인 SNS 애플리케이션입니다.

## ✨ 주요 기능

-   **개인 SNS**: 나만의 소셜 네트워크 서비스로, 사용자 등록, 로그인, 게시물 작성 및 관리가 가능합니다.
-   **URL 미리보기**: 게시물에 포함된 링크에 대해 자동으로 풍부한 미리보기를 생성합니다. 특히 YouTube 링크에 대한 특별 지원이 포함되어 있습니다.
-   **무한 스크롤**: 메인 페이지와 프로필 페이지에서 게시물 목록을 무한 스크롤 방식으로 로딩하여 사용자 경험을 향상시킵니다.
-   **댓글 시스템**: 각 게시물에 댓글을 작성하고 관리할 수 있습니다.
-   **사용자 관리**:
    -   **계정 생성 및 인증**: 안전한 사용자 등록 및 로그인/로그아웃 기능을 제공합니다.
    -   **비밀번호 변경**: 사용자가 자신의 비밀번호를 안전하게 변경할 수 있습니다.
    -   **프로필 관리**: 사용자 프로필을 통해 자신의 게시물과 정보를 확인할 수 있습니다.
    -   **관리자 기능**: 관리자는 사용자 목록을 확인하고, 비관리자 사용자를 삭제할 수 있는 권한을 가집니다.
-   **포터블**: USB 드라이브에 복사하여 어떤 컴퓨터에서든 쉽게 실행할 수 있도록 설계되었습니다.
-   **한국 시간 지원**: 모든 시간 관련 기능은 한국 표준시(KST)를 따릅니다.
-   **보안 기능**:
    -   **로그인 시도 제한**: 5회 로그인 실패 시 15분 동안 계정이 자동으로 잠깁니다.
    -   **세션 관리**: 60분 이상 활동이 없을 경우 자동으로 로그아웃됩니다. '로그인 상태 유지' 옵션을 통해 세션 시간을 연장할 수 있습니다.
    -   **비밀번호 해싱**: 사용자 비밀번호는 안전하게 해싱되어 저장됩니다.

## 🚀 시작하기

### 1. 실행 방법

-   **Python 스크립트로 실행**:
    -   `python FlaskSNS.py` 명령어를 입력하여 실행합니다.
-   **Windows 실행 파일(.exe)로 실행**:
    -   `dist` 폴더 안의 `FlaskSNS.exe` 파일을 더블클릭하여 실행합니다.
    -   **참고**: 실행 시 서버 상태를 보여주는 검은색 콘솔 창이 함께 나타납니다. **프로그램을 종료하려면 이 콘솔 창을 닫으세요.**

### 2. 접속

-   **URL**: http://localhost:5001 (기본 포트 5001이 사용 중일 경우, 자동으로 다른 사용 가능한 포트를 찾아 실행됩니다.)
-   **기본 계정**: admin / admin123 (첫 실행 시 자동 생성됩니다. 로그인 후 프로필에서 변경을 권장합니다.)
-   **네트워크 접속**: http://[IP주소]:[포트] (같은 네트워크 내에서 다른 기기로 접속 가능)

### 3. USB 사용

1.  이 폴더 전체를 USB에 복사
2.  USB를 다른 PC에 연결
3.  `FlaskSNS.py` 또는 `dist/FlaskSNS.exe` 실행
4.  브라우저에서 접속

## 📁 폴더 구조

```
FlaskSNS/
├── FlaskSNS.py          # 메인 실행 파일: 애플리케이션 시작, 데이터베이스 초기화, 포트 탐색 및 WSGI 서버 실행
├── app.py               # 핵심 Flask 애플리케이션: 앱 설정, 데이터베이스 모델, 모든 라우트(인증, 게시물, 댓글, 관리자), 보안 로직
├── requirements.txt     # Python 패키지 목록
├── templates/           # Jinja2 HTML 템플릿 파일들
│   ├── base.html        # 모든 페이지의 기본 레이아웃
│   ├── index.html       # 메인 페이지 (게시물 목록)
│   ├── login.html       # 로그인 페이지
│   ├── register.html    # 회원가입 페이지
│   ├── new_post.html    # 새 게시물 작성 페이지
│   ├── view_post.html   # 단일 게시물 보기 페이지
│   ├── profile.html     # 사용자 프로필 페이지
│   ├── change_password.html # 비밀번호 변경 페이지
│   ├── admin.html       # 관리자 페이지 (사용자 관리)
│   └── _posts_list.html # 무한 스크롤을 위한 게시물 목록 부분 템플릿
├── utils/               # 유틸리티 함수 모음
│   └── url_utils.py     # URL 미리보기 생성 관련 함수
├── sns.db               # SQLite 데이터베이스 파일 (자동 생성 및 관리)
└── README.md            # 이 프로젝트에 대한 설명 파일
```

## 💾 데이터 저장

모든 데이터는 실행 파일과 같은 폴더에 있는 `sns.db` 파일에 저장됩니다.

### 🔄 데이터 백업 및 복원

**백업 방법:**
1.  `sns.db` 파일 복사

**복원 방법:**
1.  백업한 `sns.db` 파일을 앱 폴더에 복사
2.  앱 재실행

## 🔧 시스템 요구사항

-   **OS**: Windows 10/11, macOS, Linux
-   **Python**: 3.8 이상
-   **메모리**: 최소 512MB
-   **저장공간**: 최소 100MB

## 📦 필요한 패키지

이 프로젝트는 다음 Python 패키지들을 사용합니다. `pip install -r requirements.txt` 명령어로 설치할 수 있습니다.

-   **Flask**: 웹 애플리케이션 개발을 위한 마이크로 웹 프레임워크.
-   **Flask-SQLAlchemy**: Flask 애플리케이션에서 SQLAlchemy를 쉽게 사용할 수 있도록 돕는 확장. 데이터베이스 ORM(Object Relational Mapper) 기능을 제공합니다.
-   **Flask-Login**: 사용자 세션 관리를 처리하는 Flask 확장. 사용자 로그인, 로그아웃 및 세션 기억 기능을 제공합니다.
-   **requests**: HTTP 요청을 보내기 위한 간편하고 인기 있는 라이브러리. URL 미리보기 생성에 사용됩니다.
-   **beautifulsoup4**: HTML 및 XML 파일에서 데이터를 파싱하기 위한 라이브러리. URL 미리보기 생성 시 웹 페이지 내용을 분석하는 데 사용됩니다.
-   **waitress**: 프로덕션 환경에서 Flask 애플리케이션을 서빙하기 위한 WSGI 서버. 포터블 앱 실행에 사용됩니다.
-   **WTForms**: 웹 폼을 생성하고 유효성을 검사하는 데 사용되는 유연한 폼 라이브러리.
-   **SQLAlchemy**: Python SQL 툴킷 및 ORM. Flask-SQLAlchemy의 기반이 됩니다.

## 🛡️ 보안

-   **기본 비밀번호**: 첫 실행 시 `admin/admin123` 계정이 생성됩니다. 보안을 위해 로그인 후 프로필에서 비밀번호를 변경하는 것을 강력히 권장합니다.
-   **데이터 보호**: 모든 사용자 데이터는 로컬 `sns.db` 파일에 저장되며, 외부 서버로 전송되지 않습니다.
-   **로그인 제한**: 무차별 대입 공격을 방지하기 위해 5회 로그인 실패 시 15분간 계정이 잠금 처리됩니다.
-   **세션 관리**: 60분간 활동이 없으면 자동으로 로그아웃되어 무단 접근을 방지합니다. '로그인 상태 유지' 옵션을 통해 세션 지속 시간을 연장할 수 있습니다.

## 🐛 문제 해결

### 포트 충돌
-   기본 포트 5001을 사용하며, 해당 포트가 사용 중일 경우 자동으로 다른 사용 가능한 포트를 찾아 실행됩니다.

### 데이터베이스 오류
-   `sns.db` 파일에 문제가 발생하면, 해당 파일을 삭제한 후 앱을 재실행하여 데이터베이스를 초기화할 수 있습니다. **이 경우 모든 게시물과 계정 정보가 삭제됩니다.**

## 💡 개발 및 개선 방향

이 프로젝트는 포터블 개인 SNS 앱으로 설계되었지만, 다음과 같은 개선 및 확장 가능성이 있습니다.

-   **보안 강화**: `app.py`에 하드코딩된 `SECRET_KEY`는 환경 변수나 별도의 보안 설정 파일에서 로드하도록 변경하여 프로덕션 환경에 더 적합하게 만들 수 있습니다.
-   **오류 처리**: 현재 기본적인 오류 처리가 되어 있지만, 404(찾을 수 없음) 및 500(서버 내부 오류)과 같은 전용 오류 페이지를 구현하여 사용자 경험을 개선할 수 있습니다.
-   **확장성**: SQLite 데이터베이스는 포터블 환경에 적합하지만, 더 많은 사용자나 높은 트래픽을 처리해야 하는 경우 PostgreSQL과 같은 보다 강력한 데이터베이스 시스템으로 마이그레이션하고, WSGI 서버 설정을 최적화하는 것을 고려할 수 있습니다.
-   **기능 확장**:
    -   **쪽지 기능**: 사용자 간 직접 메시지 교환 기능.
    -   **팔로우/팔로워**: 사용자 간 관계 형성 기능.
    -   **미디어 업로드**: 이미지나 동영상 파일을 직접 업로드하고 게시물에 포함하는 기능 (현재는 URL 미리보기만 지원).
    -   **검색 기능**: 게시물이나 사용자를 검색하는 기능.
    -   **알림 시스템**: 새로운 댓글이나 활동에 대한 알림 기능.
-   **테스트**: 프로젝트의 안정성과 신뢰성을 높이기 위해 단위 테스트 및 통합 테스트 스위트를 구현하는 것이 좋습니다.
-   **프론트엔드 개선**: 현재 Bootstrap과 기본 JavaScript를 사용하고 있지만, 더 복잡하고 동적인 사용자 인터페이스를 위해 React, Vue.js와 같은 전용 프론트엔드 프레임워크를 도입하는 것을 고려할 수 있습니다. (단, 이는 프로젝트의 복잡성을 크게 증가시킬 수 있습니다.)

## 📞 지원

문제가 발생하거나 질문이 있다면, GitHub 이슈 트래커를 통해 문의해주세요.

## 📄 라이선스

MIT License

---

**Flask SNS 포터블 앱** - 나만의 소셜 네트워크를 USB에 담아가세요! 💾✨